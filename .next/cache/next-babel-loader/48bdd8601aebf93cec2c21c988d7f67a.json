{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mujing/Project/TimeRoom/week4-payment/pages/index.js\";\nimport React from \"react\";\nimport react, { useState, useReducer, useEffect } from 'react';\nimport { PaymentFormReducer } from '../reducer';\nimport { PaymentContext } from '../context';\nimport { defaultSchema } from '../utils/formSchema';\nimport { paymentMethods } from '../utils/paymentMethods';\nimport '../scss/index.scss';\nimport PaymentCard from '../components/PaymentCard';\nvar paymentFormInit = {\n  method: '',\n  data: defaultSchema[methods[0].name]\n};\n\nfunction IndexPage() {\n  var _useState = useState(methods[0].name),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentMethod = _useState2[0],\n      setCurrentMethod = _useState2[1];\n\n  var _useReducer = useReducer(PaymentFormReducer, paymentFormInit),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      paymentData = _useReducer2[0],\n      paymentDispatcher = _useReducer2[1];\n\n  useEffect(function () {\n    paymentDispatcher({\n      method: currentMethod\n    });\n  }, [currentMethod]);\n\n  var onMethodClick = function onMethodClick(method) {\n    setCurrentMethod(method);\n  };\n\n  return React.createElement(PaymentContext.Provider, {\n    value: {\n      paymentDispatcher: paymentDispatcher,\n      paymentData: paymentData\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row m-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"wrapper wrapper-payment \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"wrapper-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"\\u8ACB\\u9078\\u64C7\\u4ED8\\u6B3E\\u65B9\\u5F0F\"), React.createElement(\"div\", {\n    className: \"wrapper-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"tab tab-method\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, methods.map(function (method, index) {\n    return React.createElement(\"li\", {\n      className: \"card card-method \".concat(currentMethod === method.name ? 'active' : ''),\n      onClick: function onClick() {\n        onMethodClick(method.name);\n      },\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/static/\".concat(method.img),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, method.texts.map(function (text, index) {\n      return React.createElement(\"h6\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, text);\n    })));\n  })), React.createElement(\"div\", {\n    className: \"tab tab-method-page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(PaymentCard, {\n    payment: currentMethod,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"btn btn-teal btn-block py-3 mt-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"\\u78BA\\u5B9A\\u4ED8\\u6B3E ($1500)\")))), React.createElement(\"div\", {\n    className: \"col-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"wrapper wrapper-order p-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"wrapper-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"\\u6211\\u7684\\u8A02\\u55AE\"), React.createElement(\"ul\", {\n    className: \"wrapper-body flex-column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"\\b \\u6D41\\u6D6A\\u91D1\\u5C6C\\u53F2\\u840A\\u59C6\\u93A7\\u7532 x 1\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"\\u6297\\u9B54\\u6212\\u6307 x 1\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"\\u842C\\u80FD\\u85E5 x 3\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"\\u8CE2\\u8005\\u85E5\\u6C34 x 1\")))))));\n}\n\nexport default IndexPage;","map":{"version":3,"sources":["/Users/mujing/Project/TimeRoom/week4-payment/pages/index.js"],"names":["react","useState","useReducer","useEffect","PaymentFormReducer","PaymentContext","defaultSchema","paymentMethods","PaymentCard","paymentFormInit","method","data","methods","name","IndexPage","currentMethod","setCurrentMethod","paymentData","paymentDispatcher","onMethodClick","map","index","img","texts","text"],"mappings":"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","sourcesContent":["import react,{useState,useReducer,useEffect} from 'react'\n \nimport {PaymentFormReducer} from '../reducer' \nimport {PaymentContext} from '../context'\nimport {defaultSchema} from '../utils/formSchema'\nimport {paymentMethods} from '../utils/paymentMethods'\nimport '../scss/index.scss'\nimport PaymentCard from '../components/PaymentCard'\n\n\nlet paymentFormInit = {\n  method: '', \n  data:defaultSchema[methods[0].name]\n}\nfunction IndexPage() {\n  let [currentMethod,setCurrentMethod] = useState(methods[0].name)\n  let [paymentData, paymentDispatcher] = useReducer(PaymentFormReducer,paymentFormInit) \n  \n  useEffect(()=>{\n    paymentDispatcher({method:currentMethod})\n  },[currentMethod])\n\n  let onMethodClick = (method)=>{\n    setCurrentMethod(method)\n  }\n  return (\n    <PaymentContext.Provider value={{\n      paymentDispatcher,\n      paymentData\n      }}>\n      <div className=\"container\"> \n        <div className=\"row m-5\"> \n          <div className=\"col-8\"> \n            <div className=\"wrapper wrapper-payment \"> \n                <div className=\"wrapper-title\"> \n                  請選擇付款方式\n                </div>\n                <div className=\"wrapper-body\">\n                    <ul className=\"tab tab-method\">\n                    {\n                      methods.map((method,index)=>{\n                        return (\n                          <li className={`card card-method ${currentMethod===method.name ? 'active' : ''}` }\n                              onClick={()=>{onMethodClick(method.name)}}\n                              key={index}> \n                            <div className=\"card-img\">\n                              <img src={`/static/${method.img}`} alt=\"\"/>\n                            </div>\n                            <div className=\"card-title\"> \n                              {\n                                method.texts.map((text,index)=>(<h6 key={index}>{text}</h6>)) \n                              }\n                            </div>\n                        </li>\n                        ) \n                      }) \n                    }\n                    </ul>\n                    <div className=\"tab tab-method-page\">\n                        <PaymentCard payment={currentMethod}/>\n                    </div>  \n                    <div className=\"btn btn-teal btn-block py-3 mt-4\"> \n                      確定付款 ($1500)\n                    </div>\n                </div>\n              \n            </div>\n            \n          </div>\n          <div className=\"col-4\">\n            <div className=\"wrapper wrapper-order p-3\"> \n                <div className=\"wrapper-title\"> \n                  我的訂單\n                </div>\n                <ul className=\"wrapper-body flex-column\">\n                  <li> \n                    \b 流浪金屬史萊姆鎧甲 x 1 \n                  </li>\n                  <li>\n                      抗魔戒指 x 1\n                  </li>\n                  <li>\n                      萬能藥 x 3 \n                  </li>\n                  <li>\n                      賢者藥水 x 1 \n                  </li>\n\n                </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n      </PaymentContext.Provider>\n  );\n}\n \nexport default IndexPage;"]},"metadata":{},"sourceType":"module"}