{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _Array$isArray from \"@babel/runtime-corejs2/core-js/array/is-array\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mujing/Project/TimeRoom/week4-payment/components/PayByCredit.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { PaymentContext } from '../context';\n\nvar PayByCredit = function PayByCredit() {\n  var _useContext = useContext(PaymentContext),\n      paymentData = _useContext.paymentData,\n      paymentDispatcher = _useContext.paymentDispatcher;\n\n  var _useState = useState(paymentData.data),\n      _useState2 = _slicedToArray(_useState, 2),\n      creditData = _useState2[0],\n      setCreditData = _useState2[1];\n\n  var onFormChange = function onFormChange(e) {\n    var value = e.target.value;\n    var name = e.target.name;\n    console.log('name: ', name);\n    console.log('creditData', creditData);\n    setCreditData(function (prev) {\n      var inputName = name.split('-')[0];\n      var inputIndex = name.split('-')[1];\n      console.log('inputIndex: ', inputIndex);\n\n      if (_Array$isArray(prev[inputName]) && inputName.split('-')[1]) {\n        var newCredit = prev[inputName];\n        newCredit[inputIndex] = value;\n        console.log('newCredit: ', newCredit);\n        return _objectSpread({}, prev, {\n          creditNumber: newCredit\n        });\n      } else {\n        return _objectSpread({}, prev, _defineProperty({}, inputName, value));\n      }\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"\\u4ED8\\u6B3E\\u4EBA\\u4FE1\\u7BB1\"), React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    onChange: onFormChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-credit form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \" \\u4FE1\\u7528\\u5361\\u5361\\u865F\\uFF1A\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"creditNumber-0\",\n    maxLength: \"4\",\n    onChange: onFormChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"separater\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \" - \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"creditNumber-1\",\n    maxLength: \"4\",\n    onChange: onFormChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"separater\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \" - \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"creditNumber-2\",\n    maxLength: \"4\",\n    onChange: onFormChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"separater\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \" - \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"creditNumber-3\",\n    maxLength: \"4\",\n    onChange: onFormChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"visa\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"VISA\")), React.createElement(\"div\", {\n    className: \"form-expire form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \" \\u6709\\u6548\\u5E74\\u6708\\uFF1A\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"expireMonth\",\n    placeholder: \"MM\",\n    onChange: onFormChange,\n    maxLength: \"2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"separater-expire\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"\\u6708\", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"/  \")), React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"YYYY\",\n    name: \"expireYear\",\n    onChange: onFormChange,\n    maxLength: \"4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"separater-expire\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \" \\u5E74 \")), React.createElement(\"div\", {\n    className: \"form-expire form-group form-cvv\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \" \\u80CC\\u5F8C\\u672B\\u4E09\\u78BC \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"expireYear\",\n    onChange: onFormChange,\n    placeholder: \"CVV\",\n    maxLength: \"3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  })));\n};\n\nexport default PayByCredit;","map":{"version":3,"sources":["/Users/mujing/Project/TimeRoom/week4-payment/components/PayByCredit.js"],"names":["React","useContext","useState","useEffect","PaymentContext","PayByCredit","paymentData","paymentDispatcher","data","creditData","setCreditData","onFormChange","e","value","target","name","console","log","prev","inputName","split","inputIndex","newCredit","creditNumber"],"mappings":"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","sourcesContent":["import React,{useContext,useState,useEffect}  from \"react\"\nimport {PaymentContext} from '../context'\nlet PayByCredit = () =>{\n    let {paymentData,paymentDispatcher} = useContext(PaymentContext) \n    let [creditData,setCreditData] = useState(paymentData.data)\n    \n    let onFormChange = (e)=>{\n        let value = e.target.value\n        let name = e.target.name\n        console.log('name: ', name);\n        console.log('creditData',creditData)\n        setCreditData(prev=>{\n             let inputName = name.split('-')[0]\n             \n             \n             let inputIndex = name.split('-')[1]\n             console.log('inputIndex: ', inputIndex);\n\n             if( Array.isArray(prev[inputName])   && inputName.split('-')[1]){\n                let newCredit = prev[inputName]\n                newCredit[inputIndex] = value\n                console.log('newCredit: ', newCredit);\n                return {...prev , creditNumber:newCredit}\n             }else{\n                return {...prev,[inputName]:value }\n             }\n             \n        })\n    }\n    \n    return (\n        <>\n        <div className=\"form-group\">\n            <label >付款人信箱</label>\n            <input type=\"email\" name=\"email\" onChange={onFormChange}  /> \n        </div>\n        <div className=\"form-credit form-group\">\n                <label> 信用卡卡號：</label>\n                <input type=\"text\" \n                       name=\"creditNumber-0\" \n                       maxLength=\"4\"\n                       onChange={onFormChange} />\n\n                <span className=\"separater\"> - </span>\n\n                <input  type=\"text\" \n                        name=\"creditNumber-1\" \n                        maxLength=\"4\" \n                        onChange={onFormChange}/>          \n\n                <span className=\"separater\"> - </span>\n                <input  type=\"text\" \n                        name=\"creditNumber-2\" \n                        maxLength=\"4\" \n                        onChange={onFormChange}/>   \n                <span className=\"separater\"> - </span>\n                <input  type=\"text\" \n                        name=\"creditNumber-3\" \n                        maxLength=\"4\" \n                        onChange={onFormChange}/>   \n                <span className=\"visa\">\n                    VISA\n                </span>\n        </div>\n        <div className=\"form-expire form-group\">\n            <label> 有效年月：</label> \n            <input type=\"text\" \n                   name=\"expireMonth\"\n                   placeholder=\"MM\" \n                   onChange={onFormChange}\n                   maxLength=\"2\"/>\n            <span className=\"separater-expire\"> \n                月  \n                <span>/  </span>\n            </span>\n            <input type=\"text\" \n                   placeholder=\"YYYY\" \n                   name=\"expireYear\"\n                   onChange={onFormChange}\n                   maxLength=\"4\"\n                   />\n            <span className=\"separater-expire\"> 年 </span>\n        </div>\n        <div className=\"form-expire form-group form-cvv\">\n            <label> 背後末三碼 </label> \n            <input type=\"text\" \n                   name=\"expireYear\"\n                   onChange={onFormChange}\n                   placeholder=\"CVV\"  \n                   maxLength=\"3\"/>\n        </div>\n        </>\n    )\n} \n\nexport default PayByCredit"]},"metadata":{},"sourceType":"module"}